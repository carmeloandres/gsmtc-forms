(()=>{"use strict";const e=window.wp.blocks,t=window.React,n=window.wp.i18n,o=window.wp.element,r=window.wp.blockEditor,l=window.wp.components;(0,e.registerBlockType)("gsmtc-forms/form",{edit:function({attributes:e,setAttributes:a}){const{id:s,name:i}=e,c=(0,r.useBlockProps)(),[m,d]=(0,o.useState)(!1),u=()=>{d(!1)};return(0,o.useEffect)((()=>{if("0"==s){let e=Math.trunc(Date.now()/1e3);a({id:e.toString()}),d(!0)}let e=Array.from(document.getElementsByClassName("editor-post-publish-button"));e.length>0&&e[0].addEventListener("click",u)}),[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Form information ","gsmtc-forms"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,n.__)("Form name","gsmtc-forms"),value:i,onChange:e=>a({name:e})}),(0,t.createElement)(l.Button,{disabled:m,onClick:()=>{let e=Math.trunc(Date.now()/1e3);a({id:e.toString()}),d(!0)},style:{backgroundColor:"#0073aa",color:"#fff",borderRadius:"4px",padding:"8px 16px",fontSize:"14px"}},(0,n.__)("Set as new Form","gsmtc-forms"))))),(0,t.createElement)("div",null),(0,t.createElement)("form",{...c,id:s,name:i},(0,t.createElement)(r.InnerBlocks,null)))},save:function({attributes:e}){const{id:n,name:o}=e,l=r.useBlockProps.save();return(0,t.createElement)("form",{...l,id:n,name:o},(0,t.createElement)(r.InnerBlocks.Content,null))}})})();